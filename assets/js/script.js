jQuery(function(t){var e,D,a=t("#jsi-first-page"),E=t("#jsi-second-page"),n=new Array;t.getJSON("./assets/js/schedule.json",function(i){$insertAppTitle=function(){t(".jsc-app-title").text(i.appTitle)},$fetchScheduleData=function(){n=i.schedules,n.sort(function(t,e){return t[SCHEDULE_D[1]]<e[SCHEDULE_D[1]]?-1:t[SCHEDULE_D[1]]>e[SCHEDULE_D[1]]?1:0})},$calculateMinimumAndMaximumDate=function(){for(var t=0;t<n.length;t++){var a=n[t];n[t][SCHEDULE_D[1]]=new Date(a[SCHEDULE_D[1]]),n[t][SCHEDULE_D[2]]=new Date(a[SCHEDULE_D[2]]),n[t].Day=WEEKDAY[a[SCHEDULE_D[1]].getDay()],n[t].Duration=n[t][SCHEDULE_D[2]]-n[t][SCHEDULE_D[1]],n[t][SCHEDULE_D[1]]>n[t][SCHEDULE_D[2]]&&alert('ERROR: you set earlier date as "Start" than "End" in schedule-'+t),(!e||e>n[t][SCHEDULE_D[1]])&&(e=n[t][SCHEDULE_D[1]]),(!D||D<n[t][SCHEDULE_D[2]])&&(D=n[t][SCHEDULE_D[2]])}},$insertDateTextsToFirstPage=function(){var a=WEEKDAY[e.getDay()]+" "+MONTH_NAMES[e.getMonth()]+" "+e.getDate(),E=WEEKDAY[D.getDay()]+" "+MONTH_NAMES[D.getMonth()]+" "+D.getDate();t("#jsi-from-date").text(a),t("#jsi-to-date").text(E)},$renderingBasicDOMs=function(){for(var t=Math.floor((D-e+1)/MS_PER_DAY)+1,n=new Date(e),i=0;t>i;i++){0!=i&&new Date(n.setDate(n.getDate()+1));var r=WEEKDAY[n.getDay()]+" "+MONTH_NAMES[n.getMonth()]+" "+n.getDate()+" "+n.getFullYear(),S="<li>";S+="<dl>",S+="<dt>Day "+(i+1)+"</dt>",S+="<dd>"+r+"</dd>",S+="</dl>",S+="</li>",a.find("ol").append(S);var S='<ol data-month="'+n.getMonth()+'" data-day="'+n.getDate()+'">';S+="<li>",S+="<h2>"+r+"</h2>",S+="<ul>",S+="</ul>",S+='<p><a href="javascript: void(0);">Back</a></p>',S+="</li>",S+="</ol>",E.append(S)}},$renderingEachScheduleDetail=function(){for(var e=0;e<n.length;e++){var D=n[e];E.find("ol").each(function(){var e=t(this);if(t(this).data(LIST_D[0])===D[[SCHEDULE_D[1]]].getMonth()&&t(this).data(LIST_D[1])===D[[SCHEDULE_D[1]]].getDate()){var a=D[SCHEDULE_D[3]];a+=" / ",a+=MONTH_NAMES[D[SCHEDULE_D[1]].getMonth()],a+=" ",a+=D[SCHEDULE_D[1]].getDate(),a+=" ",D[SCHEDULE_D[1]].getHours()<10&&(a+="0"),a+=D[SCHEDULE_D[1]].getHours(),a+=":",D[SCHEDULE_D[1]].getMinutes()<10&&(a+="0"),a+=D[SCHEDULE_D[1]].getMinutes();var E=MONTH_NAMES[D[SCHEDULE_D[2]].getMonth()];E+=" ",E+=D[SCHEDULE_D[2]].getDate(),E+=" ",D[SCHEDULE_D[2]].getHours()<10&&(a+="0"),E+=D[SCHEDULE_D[2]].getHours(),E+=":",D[SCHEDULE_D[2]].getMinutes()<10&&(a+="0"),E+=D[SCHEDULE_D[2]].getMinutes();var n="<li>";n+="<h3>"+D[SCHEDULE_D[0]]+"</h3>",n+="<p><address>"+D[SCHEDULE_D[6]]+"</address></p>",n+="<p><time>"+a+"</time> - <time>"+E+"</time></p>",n+="<p>"+D[SCHEDULE_D[5]]+"</p>",n+="</li>",e.find("li").find("ul").append(n)}})}},t(function(){$insertAppTitle(),$fetchScheduleData(),$calculateMinimumAndMaximumDate(),$insertDateTextsToFirstPage(),$renderingBasicDOMs(),$renderingEachScheduleDetail()})})});
//# sourceMappingURL=script.js.map
